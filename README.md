# TinkoffLabAssignment

**NB**: К сожалению, у меня отказывается скачиваться ноутбук последней версии с датасферы, где я делал задание, с ошибкой о недостатке места, хотя место есть. Как только решу эту проблему - в репозитории будет лежать обновленный вариант. Из-за этого казуса я не успел причесать решение
![image](https://github.com/RickMortey/TinkoffLabAssignment/assets/47125236/b34cd923-4e0e-45b4-9e51-2a6c11a4e41f)

Первоначальная идея заключалась в том, чтобы сгенерировать N текстов много раз и из N текстов выбрать `winner` как текст с максимальным скором, а `loser` с минимальным, соответственно.

Однако, обучив модель, я заметил, что средний positive score составляет `0.32`, что очень мало учитывая то, что первоначальные тестовые генерации показывали `score` $\approx$ 2-2.5. Более того, есть взглянуть на графики метрик, мы можем заменить, что мы повернули куда-то не туда: https://wandb.ai/timuruttsal/TinkoffLabAssignment/workspace?workspace=user-timuruttsal

Также я связываю низкое качество модели с тем, что первоначальные параметры генератора были подобраны неправильно: тексты получались слишком короткие, из-за чего вынести из них какой-то смысл модели было тяжело.

В связи с чем была предпринята попытка обучить модель, где сгенерированные пары `winner`-`loser` брались бы на основе промта из датасета `imdb`. Зачатки этого вы можете видеть в текущем ноутбуке. Она не завершена.

### Запуск
Для запуска ноутбука его нужно развернуть в среде с библиотеками, указанными в `requirements.txt`
Для этого можно использовать `venv`

Гайд:
# Переходим в директорию, где вы хотите разместить репозиторий,
$ cd <ваша выбранная директория>

# Клонируем репозиторий с github.com
$ git clone git@github.com:RickMortey/TinkoffLabAssignment.git

# Переходим в директорию склонированного репозитория
$ cd <мой репозиторий>

Версия Питона, на которой велась разработка: `3.10.12`

$ pyenv install 3.10.12

$ cd <путь к склонированному репозиторию>
$ ~/.pyenv/versions/3.10.12/bin/python -m venv venv

$ source env/bin/activate

# установка зависимостей
(venv)$ pip install --upgrade -r requirements.txt

#создание ядра в venv
(venv)$ ipython kernel install --user --name=venv

Убедитесь, что запуск ноутбука производится из под `env`

![image](https://github.com/RickMortey/TinkoffLabAssignment/assets/47125236/d887f5bc-8651-4411-9390-a58a0c1167e9)

#Удаление ядра
(venv)$ jupyter-kernelspec uninstall venv

#Выход из venv
(venv)$ deactivate
